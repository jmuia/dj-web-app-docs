<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>CP317 PartyAll Software Design Description</title>
	<!-- I don't remember who all is doing design, so just add your names here -->
	<meta name='author' content='Dallas Fraser, Matthew Rodusek, Kevin Holmes, '>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
	/* Set standards for text */
	body{
		font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
		font-size: 16px;
		text-rendering: optimizeLegibility;
		line-height: 1.42857143;
		color: #333;
		background-color: #fff;
		counter-reset: h2counter;
	}
	#content{
		max-width: 1200px;
		min-width: 600px;
		margin: 0 auto;
	}
	/* Text styling */
	h1{
		font-weight: 800;
	}
	object{border: 0;}
	h2{
		border-bottom: 1px solid #DDD;
	}
	/* Auto-counters for headers and navigation */
	h1{ counter-reset: h2counter; }
    h2:before {
        content: counter(h2counter) ".\0000a0\0000a0";
        counter-increment: h2counter;
    }
    h2{ counter-reset: h3counter; }
    h3:before {
        content: counter(h2counter) "." counter(h3counter) ".\0000a0\0000a0";
        counter-increment: h3counter;
    }
    h3{ counter-reset: h4counter; }
	h4:before{
		content: counter(h2counter) "." counter(h3counter) "." counter(h4counter) "\000a0\000a0";
		counter-increment: h4counter;
	}
	h2.nocount:before,h3.nocount:before,h4.nocount:before{
		content: none;
		counter-increment: none;
	}
	#nav ol{ 
		margin: 0;
		padding: 0;
		counter-reset: item 
	}
	#nav ol > li{
		margin: 0 20px;
	}
	#nav ol li{ 
		display: block 
	}
    #nav ol li:before{ 
    	content: counters(item, ".") ".\000a0\000a0"; 
    	counter-increment: item 
    }
    /* Definition headers */
    /* Temporary classes for placeholders/messages */
    .placeholder{
    	font-style: italic;
    	color: #666;
    }
    .alert-warning{ /* Shamelessly stolen from bootstrap*/
	    padding: 15px;
		margin-bottom: 20px;
		border: 1px solid transparent;
		border-radius: 4px;
	    background-image: -webkit-linear-gradient(top,#fcf8e3 0,#f8efc0 100%);
		background-image: -o-linear-gradient(top,#fcf8e3 0,#f8efc0 100%);
		background-image: -webkit-gradient(linear,left top,left bottom,from(#fcf8e3),to(#f8efc0));
		background-image: linear-gradient(to bottom,#fcf8e3 0,#f8efc0 100%);
		filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffcf8e3', endColorstr='#fff8efc0', GradientType=0);
		background-repeat: repeat-x;
		border-color: #f5e79e;
	    text-shadow: 0 1px 0 rgba(255,255,255,.2);
		-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.25),0 1px 2px rgba(0,0,0,.05);
		box-shadow: inset 0 1px 0 rgba(255,255,255,.25),0 1px 2px rgba(0,0,0,.05);
		color: #8a6d3b;
		background-color: #fcf8e3;
    }
    table h4{margin: 0;}
	/* Bordered table stolen from Bootstrap */
	.table{
	width: 100%;
	max-width: 100%;
	margin-bottom: 20px;
	background-color: transparent;
	border-spacing: 0;
	border-collapse: collapse;
	}
	.table-bordered{
	border: 1px solid #ddd;
	}
	.table>caption+thead>tr:first-child>th, 
	.table>colgroup+thead>tr:first-child>th, 
	.table>thead:first-child>tr:first-child>th, 
	.table>caption+thead>tr:first-child>td, 
	.table>colgroup+thead>tr:first-child>td, 
	.table>thead:first-child>tr:first-child>td {border-top: 0;}
	.table-bordered>thead>tr>th, 
	.table-bordered>tbody>tr>th, 
	.table-bordered>tfoot>tr>th, 
	.table-bordered>thead>tr>td, 
	.table-bordered>tbody>tr>td, 
	.table-bordered>tfoot>tr>td {border: 1px solid #ddd;}
	.table-bordered>thead>tr>th, 
	.table-bordered>thead>tr>td {border-bottom-width: 2px;}
	.table>thead>tr>th, 
	.table>tbody>tr>th, 
	.table>tfoot>tr>th, 
	.table>thead>tr>td, 
	.table>tbody>tr>td, 
	.table>tfoot>tr>td {
		padding: 8px;
		line-height: 1.42857143;
		vertical-align: top;
		border-top: 1px solid #ddd;
	}
	.table-striped>tbody>tr:nth-child(odd)>td, 
	.table-striped>tbody>tr:nth-child(odd)>th {
		background-color: #f9f9f9;
	}
	th {text-align: left;}
	th,td{
		word-wrap: break-word;
		white-space: nowrap;
	}
	.table-decomp>tbody>tr>td:first-child,
	.table-decomp>tbody>tr>th:first-child{
		width: 20%;
	}
	</style>
</head>
<body>
<div id="content">
	<div class="alert-warning"><strong>Work In Progress:</strong> Any text that is gray and italicized has been markedup as placeholders, and exist only to prompt what should fill that area later on.</div>
	<header id="header">
		<h1>PartyAll Software Design Description</h1>
		<p><span id="version">Version 0.7.0</span></p>
		<p><time datetime="2014-07-11">July 11, 2014</time></p>
	</header>

	<nav id="nav">
	<h2 class="nocount">Table of Contents</h2>
	<ol>
		<li><a href="#introduction">Introduction</a>
			<ol>
				<li><a href="#purpose">Purpose</a></li>
				<li><a href="#scope">Scope</a></li>
				<!-- <li><a href="#definitions">Definitions</a></li> -->
				<li><a href="#references">References</a></li>		
				<li><a href="#overview">Overview</a></li>
			</ol>
		</li>
		<li><a href="#decomp_description">Decomposition Description</a>
			<ol>
				<li><a href="#module_decomp">Module Decomposition</a></li>
				<li><a href="#process_decomp">Concurrent Process Decomposition</a></li>
				<li><a href="#data_decomp">Data Decomposition</a></li>
			</ol>
		</li>
		<li><a href="#interface_description">Interface Description</a>
			<ol>
				<li><a href="#module_interface">Module Interface</a></li>
				<li><a href="#process_interface">Process Interface</a></li>
			</ol>		
		</li>
		<li><a href="#detailed_design">Detailed Design</a>
			<ol>
				<li><a href="#module_design">Module Detailed Design</a></li>
				<li><a href="#data_design">Data Detailed Design</a></li>
				<li><a href="#documentation">Documentation</a></li>
			</ol>
		</li>
	</ol>
	</nav>
	
	<!-- /navigation -->
	
	<h2 id="introduction">Introduction</h2>

	<h3 id="purpose">Purpose</h3>
	<p>This software design document describes how the requirements in the SRS will be achieved by detailing the architecture and system design of the PartyAll web application.</p>
	<h3 id="scope">Scope</h3>
	<p>This document is written to aid the developers in designing this product. </p>
	<h3 id="definitions">Definitions</h3>
	<table>
		<tr>
			<td><h4>Concurrent Process</h4></td>
			<td>Processes in the software that execute simultaneously and share common data and resources.</td>
		</tr>
		<tr>
			<td><h4>View</h4></td>
			<td>A visual element to display to the user; in this software it is normally in the form of a web page</td>
		</tr>
	</table>
	<h3 id="references">References</h3>
	<p>IEEE. IEEE Std 1016-1998 IEEE Recommended Practice for Software Design Descriptions. IEEE Computer Society, 1998</p>
	<p>CS312 - Sofware Engineering. <a href="http://dos.iitm.ac.in/OOSD_Material/CaseStudies/CaseStudy3/SDD/Karthik_DD.html">Sofware Design Document for Electronic Scrolling Displays</a>. TGR Karthik, 2006</p>

	<h3 id="overview">Overview</h3>
	<p>This document is written following the guidelines of the IEEE Recommended Practice for Software Design Descriptions. It outlines the module, process, and data dependencies, as well as their detailed design and decomposition.</p>

	<!-- /introduction -->

	<h2 id="decomp_description">Decomposition Description</h2>
	<p>This section describes the decomposition of the system in a three different forms:</p>
	<ul>
		<li>Cohesive modules are formed by grouping data and functions, which are then displayed in their corresponding class and package diagrams.</li>
		<li>Concurrent processes are extracted from the decomposition, and briefly outlined. In this case, as it is web-based, all served pages are considered concurrent processes</li>
		<li>The storage format of persistent data is identified.</li>
	</ul>

	<h3 id="module_decomp">Module Decomposition</h3>
	<h4>Class Diagram</h4>
	<object data="../img/ClassDiagram.svg" type="image/svg+xml"></object>
	<h4>Party Package</h4>
	<object data="../img/PartyPackages.svg" type="image/svg+xml"></object>
	<h4>Framework Packages Interactions</h4>
	<object data="../img/PartyAllPackages.svg" type="image/svg+xml"></object>
	
	<h3 id="process_decomp">Concurrent Process Decomposition</h3>
	
	<!-- UserController Boundary Elements -->
	<h4>Choose User Type View</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>ChooseUserTypeView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>An interface for the user select whether to be a Host or a Guest</td>
			</tr>
		</tbody>
	</table>
	
	<h4>Login View: Host</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>HostLoginView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>A login page for the Host, requesting the room name and the password</td>
			</tr>
		</tbody>
	</table>
	
	<h4>Login View: Guest</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>GuestLoginView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>A login page for the Guest, requesting the guest key</td>
			</tr>
		</tbody>
	</table>
	<!-- What is this one again? -->
	<h4>Host Page View</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>HostPageView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td></td>
			</tr>
		</tbody>
	</table>
	
	<!-- PartyController Boundary Elements -->
	<h4>Create Party View</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>HostCreatePartyView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>An interface for the host to be able to create a specified party</td>
			</tr>
		</tbody>
	</table>
	
	<h4>Party View: Host</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>HostPartyView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>An interface for the host to search for, vote on, pause, play, stop, and skip songs</td>
			</tr>
		</tbody>
	</table>
	
	<h4>Party View: Guest</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>GuestPartyView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>An interface for the guest to search for and vote on songs</td>
			</tr>
		</tbody>
	</table>
	
	<!-- SongController Boundary Elements -->
	<h4>Song View</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>SongView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>A page displaying information about the selected song.</td>
			</tr>
		</tbody>
	</table>

	<!-- SearchController Boundary Elements -->
	<h4>Search Song View</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>SearchSongView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>A page displaying the search system to the user</td>
			</tr>
		</tbody>
	</table>
	
	<h4>Search Result Song View</h4>
	<table class="table table-striped table-bordered table-decomp">
		<tbody>
			<tr>
				<th>Identification</th>
				<td>SearchResultSongView</td>
			</tr>
			<tr>
				<th>Purpose</th>
				<td>A page displaying the results of a search to the user</td>
			</tr>
		</tbody>
	</table>

	<h3 id="data_decomp">Data Decomposition</h3>
	<p>All persistent data is to be handled by the Google App Engine framework, the underlying framework of which will use whatever is best suited for the data provided.</p>

	<!-- /decomposition description -->
	
	<h2 id="interface_description">Interface Description</h2> 
	
	<h3 id="module_interface">Module Interface</h3>
	<p></p>
	<!-- <p class="placeholder">Display the various form/module element mockups, and go into greater detail in subsections</p> -->
	
	<h4>ChooseUserTypeView</h4>
	
	<img src="../img/ChooseUserTypeView.png" title="Choose User Type View" alt="Choose User Type View">
	
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>host-button</td>
				<td>Links user to the HostLoginView</td>
			</tr>
			<tr>
				<td>guest-button</td>
				<td>Links user to the GuestLoginView</td>
			</tr>
		</tbody>
	</table>
	
	<!-- UserController Boundary Elements -->
	
	<h4>HostLoginView</h4>
	
	<img src="../img/HostLoginView.png" title="Login View: Host" alt="Host Login View">
	
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>submit-button</td>
				<td>Host logs into the specified room, and is redirected to HostPageView</td>
			</tr>
			<tr>
				<td>back-button</td>
				<td>Redirects to ChooseUserTypeView</td>
			</tr>
		</tbody>
	</table>
	
	
	<h4>GuestLoginView</h4>
	
	<img src="../img/GuestLoginView.png" title="Login View: Guest" alt="Guest Login View">
	
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>submit-button</td>
				<td>Guest attempts to log into the room by the specified access key. Redirects to GuestPartyView if successful</td>
			</tr>
			<tr>
				<td>back-button</td>
				<td>Redirects to ChooseUserTypeView</td>
			</tr>
		</tbody>
	</table>
	
	<h4>HostPageView</h4>
	
	<p class="placeholder">I don't quite understand the distinction between HostLoginView, HostCreatePartyView, and this.</p>
	
	<!-- PartyController Boundary Elements -->
	
	<h4>HostCreatePartyView</h4>

	<p class="placeholder">Note 100% sure on what to put here</p>
	
	<h4>HostPartyView</h4>
	
	<img src="../img/HostPartyView.png" title="Party View: Host" alt="Host Party View">
	<img src="../img/HostPartyView2.png" title="Party View: Host upvote" alt="Host Party View 2">
	
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>song-button</td>
				<td>Brings up a modal menu with the options to Upvote or Play</td>
			</tr>
			<tr>
				<td>upvote-button</td>
				<td>Votes for the currently selected song</td>
			</tr>
			<tr>
				<td>play-button</td>
				<td>Instantly plays the currently selected song, stopping the previously played one</td>
			</tr>
			<tr>
				<td>stop-button</td>
				<td>If a song is playing, stop it (not displayed here)</td>
			</tr>
			<tr>
				<td>search-button</td>
				<td>Redirects to SearchSongView</td>
			</tr>
			<tr>
				<td>back-button</td>
				<td>Redirects to HostPageView</td>
			</tr>
		</tbody>
	</table>
	
	
	<h4>GuestPartyView</h4>
	
	<img src="../img/GuestPartyView.png" title="Party View: Guest" alt="Guest Party View">
	
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>song-button</td>
				<td>Upvotes the selected song if not already upvoted by user, downvotes otherwise</td>
			</tr>
			<tr>
				<td>search-button</td>
				<td>Redirects to SearchSongView</td>
			</tr>
			<tr>
				<td>back-button</td>
				<td>Redirects to GuestLoginView</td>
			</tr>
		</tbody>
	</table>

	<!-- SongController Boundary Elements -->
	
	<h4>SongView</h4>
	
	<img src="../img/MissingView.jpg" title="Song View" alt="Song View">
	
	<p>Oh god how did this get here I am not good with computer</p>
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>back-button</td>
				<td>Redirects to the previous view (either GuestPartyView or HostPartyView)</td>
			</tr>
		</tbody>
	</table>
		
	<!-- SearchController Boundary Elements -->
	
	<h4>SearchSongView</h4>
	
	<img src="../img/SearchSongView.png" title="Search Song View" alt="Search Song View">
	
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>search-button</td>
				<td>Searches for the specified song</td>
			</tr>
			<tr>
				<td>clear-button</td>
				<td>Clears the search bar</td>
			</tr>
			<tr>
				<td>back-button</td>
				<td>Redirects to the previous view (either GuestPartyView or HostPartyView)</td>
			</tr>
		</tbody>
	</table>
	
	<h4>SearchSongResultView</h4>

	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>Button</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>song-button</td>
				<td>Select the searched song and automatically vote for it, then redirects back to the previous view</td>
			</tr>
			<tr>
				<td>back-button</td>
				<td>Redirects to SearchSongView</td>
			</tr>
		</tbody>
	</table>
	
	<h3 id="process_interface">Process Interface</h3>
	<p>Google App Engine...?</p>
	
	<!-- /interface description -->
	
	<h2 id="detailed_design">Detailed Design</h2>

	<h3 id="module_design">Module Detailed Design</h3>
	<p>This section describes the module design detail. For each interface and internal function implemented by a module or process it describes the steps followed to get from input to output using high level pseudocode. This pseudocode can be easily refined further and translated into actual code at the implementation stage.</p>

	<h4>nextSong()</h4>
	<ol>
		<li>Stop currently playing song</li>
		<li>Identify next song to play in the queue</li>
		<li>Change nowPlaying to the new song</li>
		<li>Return the new Song object</li>
	</ol>
	
	<h4>resumeSong()</h4>
	<ol>
		<li>If a song has stopped, resume the song</li>
	</ol>
	
	<h4>stopSong()</h4>
	<ol>
		<li>Set song status to false (stopped)</li>
		<li>Stop playing the current song</li>
	</ol>
	
	<h4>vote(userID: int)</h4>
	<ol>
		<li>Search list of user IDs</li>
		<li>Determine if voter is already in list</li>
		<li>If not, add voter to list</li>
	</ol>
	
	<h4>unvote(userID: int)</h4>
	<ol>
		<li>Search list of user IDs</li>
		<li>Determine if voter is already in list</li>
		<li>If so, remove voter from list</li>
	</ol>
	
	<h4>AddSong(song: Song) </h4>
	<ol>
		<li>Check if song is in already been added</li>
		<li>Add song to the list of songs if not present</li>
	</ol>
	
	<h4>AddUser(user: User) </h4>
	<ol>
		<li>Check if user is in already been added</li>
		<li>Add user to the list of users if not present</li>
	</ol>
	
	<h3 id="data_design">Data Detailed Design</h3>
	<p class="placeholder">List, if any, the appropriate data related methods/functions</p>
	
	<h3 id="documentation">Documentation</h3>
<h4>Front End</h4>

<h5>
Languages: HTML, CSS, Javascript
</h5>

<h5>Iconography:</h5>
<p>
Made in Pixelmator: http://www.pixelmator.com/ 
</p>

<h5>Visual Framework:</h5>
<strong>Bootstrap: http://getbootstrap.com/</strong>
<p>
The visual framework the PartyAll web application is utilizing is Bootstrap made by the people over at Twitter. Bootstrap is a featureful, mobile first framework that is easy to use. Bootstrap is a widely used framework with an array of features ranging from numerous custom HTML and CSS components to page transitions.
</p>
<p>
The pros of Bootstrap are that it is very easy to use, fully featured, and customizable. The downsides to Bootstrap is that it is relatively heavy because of its large feature set.
</p>
<h5>Web Application Framework:</h5>

<strong>AngularJS: https://angularjs.org/ </strong>
<p>
The web application framework PartyAll utilizes is AngluarJS. AngularJS is an open-source web application framework maintained by Google. AngularJS’s main goal is to help create fast, dynamic, single page web applications that only require client side HTML, CSS and Javascript. 
</p>
<p>
Traditional web pages work in the following way, a web browser makes a URL request to a server (web server) and the web server responds back with the webpages and other assets (the HTML, and Javascript), and then the browser would load up the entire web page. When a user clicks on another link, a new request is initiated and the whole process is repeated with a different set of web pages and assets returned back from the web server. With AngularJS when a user clicks on a link, instead of the web server responding with entire webpages and the browser needing to reload the entire page, the web server only responds back with the data needed. This allows the browser to simply load the data into the existing page and update it without the need for the browser to reload. 
</p>

<h4>Back End</h4>

<h5>
Languages: Python
</h5>

<h5>Service (Both datastore, and server): </h5>
<strong>Google App Engine: https://developers.google.com/appengine/docs/whatisgoogleappengine</strong>
<p>
Google app engine is a full platform used as a service to build scalable cloud applications and backends on Google’s infrastructure. App engine is equipped with a datastore to store information, memecache to greatly reduce the speed of repeatedly accessed data, and has the ability to handle runtime logic so that you can create handlers for various types of requests. App engine is also equipped with a tasks API with allows you to run work in the background allowing clients to rest as the server does all the work. 
</p>
<p>
The advantages of App Engine is that it is very fast, scalable and handles a lot of the work that would otherwise have to be done manually (such as determining how to store data, making the data available across the world etc). 
</p>
<p>
The disadvantages of App Engine is that it takes a while to pick up, and a layer of Google abstraction can make it confusing at times.
</p>
<h5>Cryptography/Security: </h5>
<strong>
Library: PyCrypto, https://www.dlitz.net/software/pycrypto/
Encryption Type: RSA, http://en.wikipedia.org/wiki/RSA_(cryptosystem) 
</strong>
	
	<!-- /detailed design -->

</div><!-- #content -->
</body>
</html>